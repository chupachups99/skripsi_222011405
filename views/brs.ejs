<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="../assets/styles.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.dataTables.css" />
</head>

<body>
    <%- include('header'); %>
        <div class="font-sans grid h-svh w-auto overflow-scroll gap-y-4 bg-slate-200">
            <!-- first section -->
            <!-- <div class="font-bold text-center ml-3 mr-3 pt-24 text-[36px]"> Wisatawan Nusantara</div> -->

            <div class="bg-white grid ml-3 mr-3 rounded shadow p-4" style="margin-top:4.6rem;">
                

                    <table id="brsTable" class="display">
                        <thead>
                            <tr>
                                <th class="text-center">No</th>
                                <th class="text-center">Tahun</th>
                                <th class="text-center">Bulan</th>
                                <th class="w-1/3 text-center">Link</th>
                                <th class="text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% let months=['Jan', 'Feb' , 'Mar' , 'Apr' , 'May' , 'Jun' , 'Jul' , 'Aug' , 'Sep' , 'Oct'
                                , 'Nov' , 'Dec' ]; let date=new Date(); let month=date.getMonth()+ 1; let
                                year=date.getFullYear(); let k=year-2022; let nMonths=k*12+month; for(let i=0;
                                i<nMonths;i++) {%>
                                <tr>
                                    <% if(data[i]!=null){%>
                                        <td>
                                            <%=nMonths-i%>
                                        </td>
                                        <td>
                                            <%=data[i].Tahun%>
                                        </td>
                                        <td>
                                            <%=data[i].Bulan%>
                                        </td>
                                        <td><input id="<%='brs_'+data[i].id%>"class="shadow w-full p-2 rounded" type="url"
                                                value="<%=data[i].Link%>"></input></td>
                                        
                                        <%} else{%>
                                            <td>
                                                <%=nMonths-i%>
                                            </td>
                                            <td id="<%='tahun_'+i%>">
                                                <%=2022+parseInt(i/12)%>
                                            </td>
                                            <td id="<%='bulan_'+i%>">
                                                <%=months[parseInt(i%12)]%>
                                            </td>
                                            <td><input id="<%='brs_'+i%>" class="w-full shadow p-2 rounded" type="url"
                                                    value="not inserted"></input></td>
                                                    
                                            <%}%>
                                            <td><button id="<%='saveBrs'+'_'+i%>" class="saveBrs" class="bg-green-500">Save</button></td>
                                                
                                </tr>
                                <% }%>
                            
                        </tbody>

                    </table>
            </div>
            <!-- batas div -->
            <div class="bg-white grid ml-3 mr-3 rounded shadow"></div>

            <!-- footer -->
            <div class=""><%- include('footer'); %></div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="https://cdn.datatables.net/2.0.2/js/dataTables.js"></script>
        <script type="module" src="http://localhost:4000/assets/script_brs.js"></script>

</body>

</html>